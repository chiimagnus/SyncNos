### 📱 引导页流程规划 (4 Steps)

### 第 1 页：Welcome (价值锚定)

> 回答你的问题 2： 是的，必须告诉用户我们支持哪些源。这是你的核心卖点，要在第一秒就展示出来。
> 
- **视觉**：SyncNos 的 Logo 在中间，周围环绕着 **Apple Books、微信读书、GoodLinks** 的图标，即使它们还没配置，也要先展示出来。
- **文案**：
    - 标题："你的笔记，汇聚一处。" (All your highlights, unified.)
    - 副标题："自动同步 Apple Books、微信读书和 GoodLinks 到 Notion。"
- **按钮**："开始设置"

### 第 2 页：Connect Notion (连接终点)

> 回答你的问题 1： Notion OAuth 是最关键的"写入权限"，放在这里请求。
> 
- **视觉**：一个大的 Notion Logo，或者 SyncNos 图标 -> 箭头 -> Notion 图标。
- **文案**：
    - 标题："连接你的 Notion 工作区"
    - 说明："我们将创建一个 Database 来安全存储你的所有笔记。"
- **核心动作**：
    - [ 按钮：连接 Notion ] -> *点击后跳出浏览器 OAuth*
    - *授权成功后，按钮变为 ✅ 已连接：Chii's Workspace*

### 第 3 页：Enable Sources (开启来源)

> 这是最关键的一步配置。在这里让用户"打开开关"，比进入 App 后再找设置要顺畅得多。
> 
- **视觉**：一个垂直列表，列出三个源。
- **交互组件**：
    - 📚 **Apple Books** [开关] -> *开启时，若需"完全磁盘访问权限"，直接在此处弹窗引导。*
    - 🔗 **GoodLinks** [开关]
    - 📖 **WeRead** [开关] -> *开启时，如果检测到没 Cookie，可以弹出一个小的 Tip："稍后需登录微信读书网页版"。*

### 第 4 页：Pro Access (付费节点)

> 回答你的问题 3： 在用户完成所有配置、心理预期最高的时候（"我都设置好了，准备开始用了"），展示付费墙。
> 
- **视觉**：引用你已经做好的 `SubscriptionView` 或 `PaywallView`。
- **文案**：强调 Pro 的价值（比如：无限同步、自动后台刷新等）。
- **动作**：
    - [ 订阅 / 购买终身 ]
    - [ 恢复购买 ]
    - [ 暂时跳过 / 开始使用 ] (如果是免费+内购模式)

---

### 💡 两个关键建议

1. **窗口独立性**：
    
    在 macOS 上，引导页建议做一个单窗口视图切换 (Single Window, View Switching)。
    
2. **权限前置**：
    
    尽量在"第 3 页"就解决掉 macOS 的权限问题（比如访问 `~/Library/Containers/...` 的权限）。不要等到用户开始同步了才报错。
    

需要我为你写一个 **SwiftUI 引导页的基础代码框架** 吗？我可以帮你把这 4 页的逻辑搭起来。

### 技术方案决策：单窗口视图切换 (Single Window, View Switching)

> **决策**：采用"主窗口内视图"方案。在引导未完成时，直接将 `OnboardingView` 作为根视图，完成后切换为 `MainAppView`。
> 

**优点**：

1. **强制性**：用户必须完成引导才能看到主界面，符合"不配置就没法用"的产品逻辑。
2. **流畅过渡**：从引导页到主页可以用 SwiftUI 的 `transition` 做无缝动画。
3. **开发简单**：不需要处理多窗口 (`WindowGroup`) 的复杂生命周期。